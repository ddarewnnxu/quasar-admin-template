(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[27],{f640:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("coadmin-dialog",{ref:"formDialog",attrs:{value:t.crud.status.cu>0,title:t.crud.status.title,"no-backdrop-dismiss":"","card-style":"width:600px; max-width:95vw;"},on:{"before-hide":t.crud.cancelCU}},[i("coadmin-form",{ref:"form",staticClass:"q-pa-md row q-col-gutter-x-xl q-col-gutter-y-md",attrs:{"label-width":"small","label-align":"center"}},[t.form.id?i("coadmin-form-item",{staticClass:"col-12",attrs:{"form-label":"ID"}},[i("div",{staticClass:"q-mt-xs"},[t._v(t._s(t.form.id))])]):t._e(),i("coadmin-input",{staticClass:"col-12",attrs:{"form-label":"名称",disable:!!t.crud.status.view,rules:[function(t){return t&&t.length>=3||"请输入3个以上字符"}]},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),i("coadmin-input",{staticClass:"col-12",attrs:{"form-label":"描述",disable:!!t.crud.status.view,rules:[function(t){return t&&t.length>=3||"请输入3个以上字符"}]},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1),i("q-card-actions",{staticClass:"q-pa-md",attrs:{align:"right"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"取消",flat:""}}),t.crud.status.view?t._e():i("q-btn",{attrs:{label:"保存",icon:"check",color:"primary",loading:t.crud.status.cu===t.crud.STATUS_PROCESSING,disable:t.crud.status.cu===t.crud.STATUS_PROCESSING},on:{click:t.crud.submitCU}})],1)],1),i("q-splitter",{attrs:{unit:"px",horizontal:t.$q.screen.xs,"separator-style":"background-color: transparent"},scopedSlots:t._u([{key:"before",fn:function(){return[i("coadmin-table",{ref:"table",class:t.$q.screen.gt.xs?"q-mr-sm":"",attrs:{"row-key":"id",dense:"",data:t.crud.data,columns:t.crud.columns,"visible-columns":t.crud.visibleColumns,title:t.crud.title,loading:t.crud.loading,selected:t.crud.selections},on:{"update:selected":function(e){return t.$set(t.crud,"selections",e)},"row-click":t.dictRowClick},scopedSlots:t._u([{key:"top-right",fn:function(e){return[i("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-xs q-px-sm q-py-sm full-width"},[i("coadmin-input",{staticClass:"col-auto",attrs:{placeholder:"名称、描述","content-style":"width:140px",clearable:""},on:{clear:function(e){return t.crud.toQuery()}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.crud.toQuery()}},model:{value:t.query.blurry,callback:function(e){t.$set(t.query,"blurry",e)},expression:"query.blurry"}}),i("div",{staticClass:"col-auto"},[i("q-btn",{attrs:{dense:"",padding:"xs sm",color:"primary",icon:"search"},on:{click:function(e){return t.crud.toQuery()}}})],1),i("q-space"),i("crud-operation",{attrs:{permission:t.permission,"no-view":"","no-edit":"","no-label":""}}),i("div",{staticClass:"col-auto"},[i("q-btn-dropdown",{staticClass:"btn-dropdown-hide-droparrow",attrs:{dense:"",color:"primary",icon:"apps","auto-close":""}},[i("crud-more",{attrs:{tableSlotTopProps:e}})],1)],1)],1)]}},{key:"body-cell-action",fn:function(e){return[i("q-td",{attrs:{props:e}},[i("crud-row",{attrs:{data:e.row,"no-add":"",flat:"",permission:t.permission,type:t.$q.screen.gt.xs?"button":"menu"}})],1)]}},{key:"pagination",fn:function(){return[i("crud-pagination",{attrs:{"no-persistence-page-size":""}})]},proxy:!0}])})]},proxy:!0},t.$q.screen.xs?{key:"separator",fn:function(){return[i("q-avatar",{attrs:{color:"primary","text-color":"white",size:"35px",icon:"height"}})]},proxy:!0}:null,{key:"after",fn:function(){return[i("dict-detail",{ref:"dictDetail",class:t.$q.screen.gt.xs?"q-ml-sm":""})]},proxy:!0}],null,!0),model:{value:t.splitter,callback:function(e){t.splitter=e},expression:"splitter"}})],1)},r=[],n=(i("b0c0"),i("9523")),o=i.n(n),s=i("ded3"),c=i.n(s),l=i("993a"),d=i("ee0e"),u=i("73e3"),m=i("4124"),f=i("7387"),p=(i("d3b7"),i("e6cf"),i("4328")),b=i.n(p);function y(t){return console.log("api dict add.data:",b.a.stringify(t,{indices:!1})),new Promise((function(t,e){setTimeout((function(){t({})}),700)}))}function g(t){return console.log("api dict del.ids:",b.a.stringify(t,{indices:!1})),new Promise((function(t,e){setTimeout((function(){t({})}),700)}))}function v(t){return console.log("api dict edit.data:",b.a.stringify(t,{indices:!1})),new Promise((function(t,e){setTimeout((function(){t({})}),700)}))}var w={add:y,edit:v,del:g},q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("coadmin-dialog",{ref:"formDialog",attrs:{value:t.crud.status.cu>0,title:t.crud.status.title,"no-backdrop-dismiss":"","content-style":"width:600px; max-width:95vw;"},on:{"before-hide":t.crud.cancelCU}},[i("coadmin-form",{ref:"form",staticClass:"q-pa-md row q-col-gutter-x-xl q-col-gutter-y-md",attrs:{"label-width":"small","label-align":"center"}},[t.form.id?i("coadmin-form-item",{staticClass:"col-12",attrs:{"form-label":"ID"}},[i("div",{staticClass:"q-mt-xs"},[t._v(t._s(t.form.id))])]):t._e(),i("coadmin-input",{staticClass:"col-12",attrs:{"form-label":"标签",disable:!!t.crud.status.view,rules:[function(t){return t&&t.length>=3||"请输入3个以上字符"}]},scopedSlots:t._u([{key:"append",fn:function(){return[i("q-icon",{attrs:{name:"title"}})]},proxy:!0}]),model:{value:t.form.label,callback:function(e){t.$set(t.form,"label",e)},expression:"form.label"}}),i("coadmin-input",{staticClass:"col-12",attrs:{"form-label":"value",disable:!!t.crud.status.view,rules:[function(t){return!!t||"必填"}]},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}}),i("coadmin-input",{staticClass:"col-12",attrs:{"form-label":"sort",disable:!!t.crud.status.view},model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1),i("q-card-actions",{staticClass:"q-pa-md",attrs:{align:"right"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"取消",flat:""}}),t.crud.status.view?t._e():i("q-btn",{attrs:{label:"保存",icon:"check",color:"primary",loading:t.crud.status.cu===t.crud.STATUS_PROCESSING,disable:t.crud.status.cu===t.crud.STATUS_PROCESSING},on:{click:t.crud.submitCU}})],1)],1),i("coadmin-table",{ref:"table",attrs:{"row-key":"id",dense:"",data:t.crud.data,columns:t.crud.columns,"visible-columns":t.crud.visibleColumns,title:t.query.dictName,loading:t.crud.loading,"loading-delay":300,selection:"multiple",selected:t.crud.selections},on:{"update:selected":function(e){return t.$set(t.crud,"selections",e)},"row-click":function(e,i,a){return t.crud.selections=[i]}},scopedSlots:t._u([{key:"top-right",fn:function(e){return[i("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-xs q-px-sm q-py-sm full-width"},[i("coadmin-input",{staticClass:"col-auto",attrs:{placeholder:"标签、值","content-style":"width:140px",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.crud.toQuery(e)}},model:{value:t.query.blurry,callback:function(e){t.$set(t.query,"blurry",e)},expression:"query.blurry"}}),i("div",{staticClass:"col-auto"},[i("q-btn",{attrs:{dense:"",padding:"xs sm",color:"primary",icon:"search"},on:{click:t.crud.toQuery}})],1),i("q-space"),i("crud-operation",{attrs:{permission:t.permission,"no-add":!t.dictId,"no-view":"","no-edit":"","no-label":""}}),i("div",{staticClass:"col-auto"},[i("q-btn-dropdown",{staticClass:"btn-dropdown-hide-droparrow",attrs:{dense:"",color:"primary",icon:"apps","auto-close":""}},[i("crud-more",{attrs:{tableSlotTopProps:e}})],1)],1)],1)]}},{key:"body-cell-action",fn:function(e){return[i("q-td",{attrs:{props:e}},[i("crud-row",{attrs:{data:e.row,"data-add":{sort:e.row.sort+10},flat:"",permission:t.permission,type:t.$q.screen.gt.xs?"button":"menu"}})],1)]}},{key:"pagination",fn:function(){return[i("crud-pagination",{attrs:{"no-persistence-page-size":"","no-page-if-only-one-page":""}})]},proxy:!0}])})],1)},k=[];i("cca6");function x(t){return console.log("api dictDetail add.data:",b.a.stringify(t,{indices:!1})),new Promise((function(t,e){setTimeout((function(){t({})}),700)}))}function h(t){return console.log("api dictDetail del.ids:",b.a.stringify(t,{indices:!1})),new Promise((function(t,e){setTimeout((function(){t({})}),700)}))}function C(t){return console.log("api dictDetail edit.data:",b.a.stringify(t,{indices:!1})),new Promise((function(t,e){setTimeout((function(){t({})}),700)}))}var O,D={add:x,edit:C,del:h},S=[{name:"id",field:"id",label:"ID"},{name:"label",field:"label",label:"标签",required:!0,align:"left",format:function(t){return"".concat(t)},sortable:!0},{name:"value",label:"值",field:"value",align:"left"},{name:"sort",label:"排序",field:"sort",align:"left"},{name:"action",label:"操作",align:"center"}],$=["label","value","sort","action"],_={id:null,label:null,value:null,sort:10},P={name:"PageCrudDictDetail",components:{crudOperation:d["a"],crudMore:f["a"],crudPagination:u["a"],crudRow:m["a"]},cruds:function(){return Object(l["b"])({columns:S,visibleColumns:$,idField:"id",query:{dictName:"",dictId:null},title:"字典详情",sort:["sort,asc","id,desc"],url:"api/dictDetail",crudMethod:c()({},D),queryOnPresenterCreated:!1})},mixins:[Object(l["f"])(),Object(l["d"])(),Object(l["c"])((function(){return Object.assign({dict:{id:this.dictId}},_)})),Object(l["a"])()],data:function(){return{permission:{add:["admin","dict:add"],edit:["admin","dict:edit"],del:["admin","dict:del"]},dictId:null}}},Q=P,T=i("2877"),I=i("0016"),j=i("4b7e"),N=i("9c40"),R=i("2c91"),E=i("f20b"),U=i("db86"),A=i("7f67"),z=i("eebe"),B=i.n(z),G=Object(T["a"])(Q,q,k,!1,null,null,null),M=G.exports;B()(G,"components",{QIcon:I["a"],QCardActions:j["a"],QBtn:N["a"],QSpace:R["a"],QBtnDropdown:E["a"],QTd:U["a"]}),B()(G,"directives",{ClosePopup:A["a"]});var F=[{name:"id",field:"id",label:"ID"},{name:"name",field:"name",label:"名称",required:!0,align:"left",format:function(t){return"".concat(t)},sortable:!0},{name:"remark",label:"描述",field:"remark",align:"left"},{name:"action",label:"操作",align:"center"}],J=["name","remark","action"],H={id:null,name:null,remark:null,dictDetails:[]},K={name:"PageCrudDict",components:{crudOperation:d["a"],crudMore:f["a"],crudPagination:u["a"],crudRow:m["a"],dictDetail:M},cruds:function(){return Object(l["b"])({columns:F,visibleColumns:J,idField:"id",title:"字典列表",url:"api/dict",crudMethod:c()({},w)})},mixins:[Object(l["f"])(),Object(l["d"])(),Object(l["c"])(H),Object(l["a"])()],data:function(){return{splitter:600,permission:{add:["admin","dict:add"],edit:["admin","dict:edit"],del:["admin","dict:del"]}}},watch:{"$q.screen.gt.xs":function(t){this.splitter=t?600:250}},methods:(O={},o()(O,l["b"].HOOK.beforeRefresh,(function(){return this.$refs.dictDetail&&(this.$refs.dictDetail.dictId=null,this.$refs.dictDetail.query.dictName=""),!0})),o()(O,"dictRowClick",(function(t,e,i){this.crud.selections=[e],this.$refs.dictDetail.dictId=e.id,this.$refs.dictDetail.query.dictId=e.id,this.$refs.dictDetail.query.dictName=e.name,this.$refs.dictDetail.crud.toQuery()})),O)},L=K,V=i("8562"),W=i("cb32"),X=Object(T["a"])(L,a,r,!1,null,null,null);e["default"]=X.exports;B()(X,"components",{QCardActions:j["a"],QBtn:N["a"],QSplitter:V["a"],QSpace:R["a"],QBtnDropdown:E["a"],QTd:U["a"],QAvatar:W["a"]}),B()(X,"directives",{ClosePopup:A["a"]})}}]);