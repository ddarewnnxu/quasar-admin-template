(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{"486f":function(e,t,a){"use strict";var r={content:[{header:"root",id:8,pid:0,name:"华北分部",nameLetter:"hbfb",deptCode:null,sort:1,enabled:!0,treeLeaf:!1,treeNames:"/华北分部",treeNamesLetter:"/hbfb",children:[{id:48,pid:8,name:"研发部",nameLetter:"yfb",deptCode:null,sort:3,enabled:!0,treeLeaf:!0,treeNames:"/华北分部/研发部",treeNamesLetter:"/hbfb/yfb",createTime:1604739557e3,label:"研发部",hasChildren:!1},{id:6,pid:8,name:"测试部",nameLetter:"csb",deptCode:null,sort:6,enabled:!0,treeLeaf:!0,treeNames:"/华北分部/测试部",treeNamesLetter:"/hbfb/csb",createTime:1553478738e3,label:"测试部",hasChildren:!1}],createTime:1553483093e3,label:"华北分部",hasChildren:!0},{header:"test",id:5,pid:0,name:"运维部",nameLetter:"ywb",deptCode:null,sort:3,enabled:!0,treeLeaf:!1,treeNames:"/运维部",treeNamesLetter:"/ywb",children:[{body:"new",id:19,pid:5,name:"运维一组",nameLetter:"ywyz",deptCode:null,sort:999,enabled:!0,treeLeaf:!0,treeNames:"/运维部/运维一组",treeNamesLetter:"/ywb/ywyz",createTime:1601979901e3,label:"运维一组",hasChildren:!1},{header:"test",body:"new",id:46,pid:5,name:"运维二组",nameLetter:"ywez",deptCode:null,sort:999,enabled:!0,treeLeaf:!0,treeNames:"/运维部/运维二组",treeNamesLetter:"/ywb/ywez",createTime:1604738778e3,label:"运维二组",hasChildren:!1}],createTime:1553476844e3,label:"运维部",hasChildren:!0},{id:7,pid:0,name:"华南分部",nameLetter:"hnfb",deptCode:null,sort:5,enabled:!0,treeLeaf:!1,treeNames:"/华南分部",treeNamesLetter:"/hnfb",children:[{id:21,pid:7,name:"华南之家",nameLetter:"hnzj",deptCode:null,sort:1,enabled:!0,treeLeaf:!1,treeNames:"/华南分部/华南之家",treeNamesLetter:"hnfbhnzj",children:[{id:34,pid:21,name:"华南之家1",nameLetter:"hnzj1",deptCode:null,sort:2,enabled:!0,treeLeaf:!0,treeNames:"/华南分部/华南之家/华南之家1",treeNamesLetter:"/hnfb/hnzj/hnzj1",createTime:1602243844e3,label:"华南之家1",hasChildren:!1},{id:42,pid:21,name:"华南之家2",nameLetter:"hnzj2",deptCode:null,sort:3,enabled:!0,treeLeaf:!0,treeNames:"/华南分部/华南之家/华南之家2",treeNamesLetter:"/hnfb/hnzj/hnzj2",createTime:1604737459e3,label:"华南之家2",hasChildren:!1},{id:43,pid:21,name:"华南之家3",nameLetter:"hnzj3",deptCode:null,sort:4,enabled:!0,treeLeaf:!0,treeNames:"/华南分部/华南之家/华南之家3",treeNamesLetter:"/hnfb/hnzj/hnzj3",createTime:1604737471e3,label:"华南之家3",hasChildren:!1}],createTime:1602118877e3,label:"华南之家",hasChildren:!0},{id:33,pid:7,name:"华南2",nameLetter:"hn2",deptCode:null,sort:999,enabled:!0,treeLeaf:!0,treeNames:"/华南分部/华南2",treeNamesLetter:"hnfbhn2",createTime:1602243765e3,label:"华南2",hasChildren:!1},{id:39,pid:7,name:"华南之家5",nameLetter:"hnzj5",deptCode:null,sort:999,enabled:!0,treeLeaf:!1,treeNames:"/华南分部/华南之家5",treeNamesLetter:"/hnfb/hnzj5",children:[{id:45,pid:39,name:"华南之家5.2",nameLetter:"hnzj52",deptCode:null,sort:3,enabled:!0,treeLeaf:!0,treeNames:"/华南分部/华南之家5/华南之家5.2",treeNamesLetter:"/hnfb/hnzj5/hnzj52",createTime:1604737518e3,label:"华南之家5.2",hasChildren:!1},{id:44,pid:39,name:"华南之家5.1",nameLetter:"hnzj51",deptCode:null,sort:999,enabled:!0,treeLeaf:!0,treeNames:"/华南分部/华南之家5/华南之家5.1",treeNamesLetter:"/hnfb/hnzj5/hnzj51",createTime:1604737509e3,label:"华南之家5.1",hasChildren:!1}],createTime:1604736969e3,label:"华南之家5",hasChildren:!0}],createTime:155348309e4,label:"华南分部",hasChildren:!0},{id:41,pid:0,name:"西南",nameLetter:"xn",deptCode:null,sort:333,enabled:!0,treeLeaf:!1,treeNames:"/西南",treeNamesLetter:"/xn",children:[{id:50,pid:41,name:"财务部",nameLetter:"cwb",deptCode:null,sort:999,enabled:!0,treeLeaf:!0,treeNames:"/西南/财务部",treeNamesLetter:"/xn/cwb",createTime:1604742957e3,label:"财务部",hasChildren:!1},{id:51,pid:41,name:"商务部",nameLetter:"swb",deptCode:null,sort:999,enabled:!0,treeLeaf:!0,treeNames:"/西南/商务部",treeNamesLetter:"/xn/swb",createTime:1604742972e3,label:"商务部",hasChildren:!1}],createTime:1604737063e3,label:"西南",hasChildren:!0},{id:49,pid:0,name:"西北",nameLetter:"xb",deptCode:null,sort:444,enabled:!0,treeLeaf:!0,treeNames:"/西北",treeNamesLetter:"/xb",createTime:1604742657e3,label:"西北",hasChildren:!1},{id:40,pid:0,name:"华东",nameLetter:"hd",deptCode:null,sort:555,enabled:!0,treeLeaf:!0,treeNames:"/华东",treeNamesLetter:"/hd",createTime:1604737027e3,label:"华东",hasChildren:!1},{id:35,pid:0,name:"东北公司",nameLetter:"dbgs",deptCode:null,sort:999,enabled:!0,treeLeaf:!1,treeNames:"/东北公司",treeNamesLetter:"dbgs",children:[{id:36,pid:35,name:"吉林",nameLetter:"jl",deptCode:null,sort:5,enabled:!0,treeLeaf:!1,treeNames:"/东北公司/吉林",treeNamesLetter:"/dbgs/jl",children:[{id:37,pid:36,name:"运维部吉林",nameLetter:"ywbjl",deptCode:null,sort:333,enabled:!0,treeLeaf:!0,treeNames:"/东北公司/吉林/运维部吉林",treeNamesLetter:"/dbgs/jl/ywbjl",createTime:1602244738e3,label:"运维部吉林",hasChildren:!1},{id:38,pid:36,name:"财务部吉林",nameLetter:"cwbjl",deptCode:null,sort:999,enabled:!0,treeLeaf:!0,treeNames:"/东北公司/吉林/财务部吉林",treeNamesLetter:"/dbgs/jl/cwbjl",createTime:1602246696e3,label:"财务部吉林",hasChildren:!1}],createTime:1602244518e3,label:"吉林",hasChildren:!0}],createTime:1602244365e3,label:"东北公司",hasChildren:!0}],totalElements:7};t["a"]=r},e1a5:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"coadmin-page q-pa-sm q-gutter-sm"},[a("q-splitter",{attrs:{unit:"px",horizontal:e.$q.screen.xs,"emit-immediately":""},scopedSlots:e._u([{key:"before",fn:function(){return[a("div",{staticClass:"q-pa-xs"},[a("coadmin-tree",{ref:"tree",attrs:{"node-key":"id","label-key":"label",nodes:e.treeDatas,filter:e.treeDatasFilter,"filter-method":e.treeDatasFilterMethod,selected:e.treeNodeSelected,"selected-color":"purple",selectable:""},on:{"update:selected":function(t){e.treeNodeSelected=t}},scopedSlots:e._u([{key:"toolbar",fn:function(){return[a("q-toolbar",{attrs:{flat:""}},[a("div",{staticClass:"row full-width"},[a("q-input",{ref:"filter",staticClass:"col-8",attrs:{dense:"",label:"Filter..."},scopedSlots:e._u([{key:"append",fn:function(){return[""!==e.treeDatasFilter?a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"clear"},on:{click:e.treeDatasFilterReset}}):e._e()]},proxy:!0}]),model:{value:e.treeDatasFilter,callback:function(t){e.treeDatasFilter=t},expression:"treeDatasFilter"}}),a("q-space"),a("q-btn",{staticClass:"col-auto",attrs:{dense:"",icon:e.treeDatasExpanded?"unfold_more":"unfold_less"},on:{click:function(t){(e.treeDatasExpanded=!e.treeDatasExpanded)?e.$refs.tree.collapseAll():e.$refs.tree.expandAll()}}})],1)])]},proxy:!0},{key:"default-header",fn:function(t){return[a("div",{class:{"text-weight-bold":e.treeNodeSelected==t.key}},[e._v(e._s(t.node.label))])]}}])})],1)]},proxy:!0},e.$q.screen.xs?{key:"separator",fn:function(){return[a("q-avatar",{attrs:{color:"primary","text-color":"white",size:"35px",icon:"height"}})]},proxy:!0}:null,{key:"after",fn:function(){return[a("div",{staticClass:"q-pa-sm"},[a("coadmin-tree-table",{attrs:{columns:e.columns,data:e.treeDatasSelected}})],1)]},proxy:!0}],null,!0),model:{value:e.splitter,callback:function(t){e.splitter=t},expression:"splitter"}})],1)},n=[],l=(a("4de4"),a("c975"),a("b0c0"),a("6374")),i=a.n(l),s=a("486f"),d=a("1b8b"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("q-markup-table",{class:e.classes,attrs:{separator:e.separator,dense:e.dense,dark:e.dark,flat:e.flat,bordered:e.bordered,square:e.square}},[a("thead",[a("tr",e._l(e.columns,(function(t,r){return a("th",{class:"text-"+t.align,attrs:{Key:r},on:{click:function(a){t.sortable&&e.sortBy(t)}}},[e._v("\n                "+e._s(t.label)+"\n                "),t.sorted?a("q-icon",{attrs:{name:"asc"==t.sortDirection?"arrow_upward":"arrow_downward"}}):e._e()],1)})),0)]),a("tbody",[e._l(e.arrayTreeObj,(function(t,r){return[e.hasDefaultSlot?a("tr",{key:r},[e._t("body",null,{item:t,toggle:e.toggle,setPadding:e.setPadding,iconName:e.iconName})],2):e._e()]})),e._l(e.arrayTreeObj,(function(t,r){return[e.hasDefaultSlot?e._e():a("tr",{key:r},e._l(e.columns,(function(r,n){return a("td",{key:n,class:"text-"+r.align,attrs:{"data-th":"Name"}},[a("div",{class:e.hasChildren(t)?"q-pl-lg":"",style:0==n?e.setPadding(t):{"padding-left":"30px"}},[e.hasChildren(t)&&0==n?a("q-btn",{attrs:{icon:e.iconName(t),flat:"",dense:""},on:{click:function(a){0!=n||e.toggle(t)}}}):e._e(),a("span",{staticClass:"q-ml-sm"},[e._v(e._s(t[r.field]))])],1)])})),0)]}))],2)])],1)},c=[],m=(a("4160"),a("4e82"),a("159b"),{name:"CoadminTreeTable",props:["data","columns","separator","dense","dark","flat","bordered","square","classes","defaultExpandAll"],data:function(){return{leftDrawerOpen:!1,isExpanded:!0,selectedRowID:{},itemId:null,temp_data:[],temp_index:1,first_call:!1}},watch:{selectedIDRow:function(e){null!=this.selectedRowID&&this.$set(this.selectedRowID,"_index",e)}},methods:{recursive:function(e,t,a,r,n,l){var i=this;e.forEach((function(e){if(!e.children||0==e.children.length)return e.level=a,e.leaf=!0,e.sortDirection="none",e.sorted=!1,e["_index"]=i.temp_index,i.temp_index=i.temp_index+1,t.push(e),!1;e.level=a,e.leaf=!1,e.sortDirection="none",e.sorted=!1,e["_index"]=i.temp_index,i.temp_index=i.temp_index+1,l&&(e.expend=!0),t.push(e),e._index==r&&(e.expend=n),1==e.expend&&i.recursive(e.children,t,e.level+1,r,n,l)}))},iconName:function(e){return 1==e.expend?"remove":e.children&&e.children.length>0?"add":"done"},hasChildren:function(e){return e.expend||e.children&&e.children.length>0},toggle:function(e){var t=this;if(t.itemId=e._index,e.leaf=!1,0==e.leaf&&void 0==e.expend&&void 0!=e.children&&0!=e.children.length&&t.recursive(e.children,[],e.level+1,e._index,e.expend,!1),1==e.expend&&void 0!=e.children){e.children.forEach((function(e){e.expend=void 0,t.setUndefined(e)})),t.$set(e,"expend",void 0),t.$set(e,"leaf",!1),t.itemId=null}},setPadding:function(e){return this.hasChildren(e)?"padding-left: ".concat(30*e.level,"px;"):"padding-left: ".concat(30*(e.level+1),"px;")},setUndefined:function(e){var t=this;e.hasOwnProperty("children")&&e.children.forEach((function(e){e.expend=void 0,t.setUndefined(e)}))},sortBy:function(e){"asc"===e.sortDirection?(this.sort_recursive(this.data,e,!0),e.sortDirection="desc",e.arrow_downward="arrow_downward"):(this.sort_recursive(this.data,e,!1),e.sortDirection="asc"),e.sorted=!0,this.resetSorting(e)},sort_recursive:function(e,t,a){e.sort(this.sort_by(t,a));for(var r=0;r<e.length;r++)e[r].hasOwnProperty("children")&&this.sort_recursive(e[r].children,t,a)},sort_by:function(e,t){var a=t?-1:1;if("custom"===e.sortingType&&"function"===typeof e.sortingFunc)return function(t,r){return e.sortingFunc(t,r)*a};var r=function(t){return t.hasOwnProperty(e.field)?null===t[e.field]?"":t[e.field].toLowerCase():""};switch(e.sortingType){case"number":r=function(t){return parseFloat(t[e.field])};break;case"date":r=function(t){return new Date(t[e.field])};break}return function(e,t){return e=r(e),t=r(t),a*((e>t)-(t>e))}},resetSorting:function(e){for(var t=this.columns.length,a=0;a<t;a++){var r=this.columns[a];r.field!=e.field&&(r.sorted=!1,r.sortDirection="none")}}},computed:{arrayTreeObj:function(){var e=this,t=[];return this.temp_data=[],e.temp_index=1,e.recursive(e.data,t,0,e.itemId,e.isExpanded,e.first_call),e.first_call=!1,t},hasDefaultSlot:function(){return this.$scopedSlots.hasOwnProperty("body")}},mounted:function(){this.defaultExpandAll&&(this.first_call=!0)}}),u=m,h=a("2877"),f=a("2bb1"),b=a("0016"),p=a("9c40"),L=a("eebe"),C=a.n(L),x=Object(h["a"])(u,o,c,!1,null,"c4e52406",null),g=x.exports;C()(x,"components",{QMarkupTable:f["a"],QIcon:b["a"],QBtn:p["a"]});var v={name:"PageTreeTable2",components:{CoadminTree:d["a"],CoadminTreeTable:g},data:function(){return{splitter:250,treeNodeSelected:null,treeDatasFilter:"",treeDatasExpanded:!0,text:"",textSearch:"",currentPage:1,numberPerPage:10,numberPerPageOptions:[{label:"10/页",value:10},{label:"20/页",value:20},{label:"30/页",value:30},{label:"40/页",value:40},{label:"50/页",value:50},{label:"100/页",value:100}],searchToggle:!1,loading:!1,dialogData:!1,dialogFullscreen:!1,selected:[],visibleColumns:["id","name","sort","enabled"],columns:[{name:"id",label:"ID",field:"id",sortable:!0},{name:"pid",label:"PID",field:"pid",sortable:!0},{name:"name",field:"name",required:!0,label:"名称",align:"left",format:function(e){return"".concat(e)},sortable:!0},{name:"sort",field:"sort",label:"sort"},{name:"enabled",field:"enabled",label:"enabled"},{name:"treeNames",field:"treeNames",label:"treeNames",align:"left"}]}},mounted:function(){},watch:{"$q.screen.gt.xs":function(e){console.log("$q.screen.gt.xs="+this.$q.screen.gt.xs+", val="+e)}},computed:{treeDatas:function(){return s["a"].content},treeDatasSelected:function(){var e=this.getTreeDatasByPid(this.treeDatas,this.treeNodeSelected);return e||[]}},methods:{treeDatasFilterReset:function(){this.treeDatasFilter="",this.$refs.filter.focus()},treeDatasFilterMethod:function(e,t){var a=t.toLowerCase();return e.name&&e.name.toLowerCase().indexOf(a)>-1||e.nameLetter&&e.nameLetter.toLowerCase().indexOf(a)>-1},getTreeDatasByPid:function(e,t){if(!e)return null;if(null==t||void 0===t)return e;var a=e.filter((function(e){return e.pid===t}));if(a&&a.length>0)return a;var r,n=i()(e);try{for(n.s();!(r=n.n()).done;){var l=r.value;if(l.children&&l.children.length>0&&(a=this.getTreeDatasByPid(l.children,t),a&&a.length>0))return a}}catch(s){n.e(s)}finally{n.f()}return null},rowViewClick:function(e){this.dialogData=!0},rowLooooooongButtonClick:function(){},moveFab:function(e){this.draggingFab=!0!==e.isFirst&&!0!==e.isFinal,this.fabPos=[this.fabPos[0]-e.delta.x,this.fabPos[1]-e.delta.y]}}},N=v,y=a("8562"),w=a("65c6"),_=a("27f9"),D=a("2c91"),T=a("cb32"),j=Object(h["a"])(N,r,n,!1,null,null,null);t["default"]=j.exports;C()(j,"components",{QSplitter:y["a"],QToolbar:w["a"],QInput:_["a"],QIcon:b["a"],QSpace:D["a"],QBtn:p["a"],QAvatar:T["a"]})}}]);