(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"17bb":function(t,e,r){"use strict";r("4f04")},"4f04":function(t,e,r){},dc6c:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"row items-center justify-center"},[s("q-card",{staticClass:"login-wrapper shadow-24",attrs:{bordered:!1}},[s("q-card-section",{attrs:{horizontal:""}},[t.$q.screen.gt.xs?s("q-img",{staticClass:"col-6",attrs:{src:t.imgsrc}},[s("div",{staticClass:"absolute-bottom-left text-subtitle2 text-center"},[t._v("\n          "+t._s(t.$q.version)+"\n        ")])]):t._e(),s("q-card-section",{class:(t.$q.screen.gt.xs?"col-6":"col")+" q-mt-xs q-px-xl q-py-md"},[s("div",{staticClass:"flex flex-center"},[s("q-avatar",{attrs:{size:"100px"}},[s("q-img",{attrs:{src:r("9b19")}})],1)],1),s("div",{staticClass:"text-h5 text-primary q-mb-xs"},[t._v("登录")]),s("q-form",{staticClass:"login-form my-form q-mt-lg",on:{submit:t.onSubmit}},[s("q-input",{attrs:{outlined:"",dense:"","no-error-icon":"",placeholder:"账号",rules:[function(t){return t&&t.length>0||"请输入用户账号"}]},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username","string"===typeof e?e.trim():e)},expression:"form.username"}}),s("q-input",{attrs:{outlined:"",dense:"","no-error-icon":"",type:"password",placeholder:"密码",rules:[function(t){return t&&t.length>0||"请输入登录密码"}]},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password","string"===typeof e?e.trim():e)},expression:"form.password"}}),s("div",{staticClass:"column q-gutter-y-md q-mt-none"},[s("q-checkbox",{attrs:{label:"记住账号",dense:""},model:{value:t.form.rememberMe,callback:function(e){t.$set(t.form,"rememberMe",e)},expression:"form.rememberMe"}})],1),s("div",{staticClass:"q-mt-md column items-center"},[s("q-btn",{staticClass:"full-width",attrs:{label:"登录",type:"submit",color:"primary"}}),s("div",{staticClass:"q-mt-md"},[t._v("如果还没有账号？"),s("router-link",{staticClass:"text-primary",attrs:{to:"/user/register"}},[t._v("点击注册")])],1)],1)],1),s("q-toolbar",{staticClass:"no-padding"},[s("q-toggle",{attrs:{value:t.$q.dark.isActive,val:!0,label:"DARK"},nativeOn:{click:function(e){return t.changeSetting({key:"darkMode",value:!t.$q.dark.isActive})}}}),s("q-space"),s("brand-color")],1)],1)],1),s("q-inner-loading",{attrs:{showing:t.loading}},[s("q-spinner-hourglass",{attrs:{size:"sm",color:"primary"}})],1)],1)],1)},a=[],n=r("ded3"),o=r.n(n),i=r("2f62"),c=r("429d"),l=r("ed08"),m={components:{BrandColor:c["a"]},name:"UserLogin",data:function(){return{imgsrc:"",loading:!1,form:{username:"",password:"",rememberMe:!1}}},created:function(){this.imgsrc="img/nature-"+Object(l["d"])()%8+".jpg"},computed:{},methods:o()(o()({},Object(i["b"])("settings",["changeSetting"])),{},{onSubmit:function(){var t=this;this.loading=!0,this.$store.dispatch("user/login",this.form).then((function(){t.loading=!1;var e={redirect:t.$route.query.redirect||"/"};t.$router.push({path:e.redirect})})).catch((function(e){t.loading=!1;var r=e.message||"登录失败，请稍后重试！";t.$q.notify({message:r})}))}})},d=m,u=(r("17bb"),r("2877")),f=r("9989"),g=r("f09f"),p=r("a370"),b=r("068f"),q=r("cb32"),h=r("0378"),v=r("27f9"),x=r("8f8e"),C=r("9c40"),w=r("65c6"),y=r("9564"),Q=r("2c91"),k=r("74f7"),$=r("9149"),_=r("eebe"),S=r.n(_),j=Object(u["a"])(d,s,a,!1,null,"6e07af76",null);e["default"]=j.exports;S()(j,"components",{QPage:f["a"],QCard:g["a"],QCardSection:p["a"],QImg:b["a"],QAvatar:q["a"],QForm:h["a"],QInput:v["a"],QCheckbox:x["a"],QBtn:C["a"],QToolbar:w["a"],QToggle:y["a"],QSpace:Q["a"],QInnerLoading:k["a"],QSpinnerHourglass:$["a"]})}}]);