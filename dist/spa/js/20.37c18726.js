(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[20],{"47df":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"coadmin-page q-pa-sm q-gutter-sm"},[a("q-splitter",{attrs:{unit:"px",horizontal:e.$q.screen.xs,"emit-immediately":""},scopedSlots:e._u([{key:"before",fn:function(){return[a("div",{staticClass:"q-pa-xs"},[a("coadmin-tree",{ref:"tree",attrs:{"node-key":"id","label-key":"label",nodes:e.treeDatas,"no-connectors":!1,filter:e.treeDatasFilter,"filter-method":e.treeDatasFilterMethod,selected:e.treeNodeSelected,"selected-color":"purple",selectable:""},on:{"update:selected":function(t){e.treeNodeSelected=t}},scopedSlots:e._u([{key:"toolbar",fn:function(){return[a("q-toolbar",{attrs:{flat:""}},[a("div",{staticClass:"row full-width"},[a("q-input",{ref:"filter",staticClass:"col-8",attrs:{dense:"",label:"Filter..."},scopedSlots:e._u([{key:"append",fn:function(){return[""!==e.treeDatasFilter?a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"clear"},on:{click:e.treeDatasFilterReset}}):e._e()]},proxy:!0}]),model:{value:e.treeDatasFilter,callback:function(t){e.treeDatasFilter=t},expression:"treeDatasFilter"}}),a("q-space"),a("q-btn",{staticClass:"col-auto",attrs:{dense:"",icon:e.treeDatasExpanded?"unfold_more":"unfold_less"},on:{click:function(t){(e.treeDatasExpanded=!e.treeDatasExpanded)?e.$refs.tree.collapseAll():e.$refs.tree.expandAll()}}})],1)])]},proxy:!0},{key:"default-header",fn:function(t){return[a("div",{class:{"text-weight-bold":e.treeNodeSelected==t.key}},[e._v(e._s(t.node.label))])]}}])})],1)]},proxy:!0},e.$q.screen.xs?{key:"separator",fn:function(){return[a("q-avatar",{attrs:{color:"primary","text-color":"white",size:"35px",icon:"height"}})]},proxy:!0}:null,{key:"after",fn:function(){return[a("div",{staticClass:"q-pa-xs"},[a("q-table",{staticClass:"coadmin-table",attrs:{flat:"","wrap-cells":!1,data:e.treeDatasSelected,columns:e.columns,"row-key":"id","visible-columns":e.visibleColumns,separator:"horizontal","hide-pagination":!1,"rows-per-page-options":[0],"no-data-label":"无数据",selection:"multiple",selected:e.selected,loading:e.loading},on:{"update:selected":function(t){e.selected=t}},scopedSlots:e._u([{key:"top",fn:function(t){return[a("div",{staticClass:"row q-col-gutter-x-md q-col-gutter-y-xs",staticStyle:{width:"100%"}},[a("q-input",{staticClass:"col-xs-6 col-sm-4 col-md-3 col-lg-2",attrs:{dense:"",placeholder:"姓名"},model:{value:e.textSearch,callback:function(t){e.textSearch=t},expression:"textSearch"}}),e.searchToggle?[a("q-input",{staticClass:"col-xs-6 col-sm-4 col-md-3 col-lg-2",attrs:{dense:"",placeholder:"姓名"},model:{value:e.textSearch,callback:function(t){e.textSearch=t},expression:"textSearch"}}),a("q-input",{staticClass:"col-xs-6 col-sm-4 col-md-3 col-lg-2",attrs:{dense:"",placeholder:"姓名"},model:{value:e.textSearch,callback:function(t){e.textSearch=t},expression:"textSearch"}}),a("q-input",{staticClass:"col-xs-6 col-sm-4 col-md-3 col-lg-2",attrs:{dense:"",placeholder:"姓名"},model:{value:e.textSearch,callback:function(t){e.textSearch=t},expression:"textSearch"}})]:e._e(),a("q-btn-group",{staticClass:"col",attrs:{outline:""}},[a("q-btn",{attrs:{dense:"",outline:"",color:"primary",label:"查询"}}),a("q-separator",{attrs:{vertical:""}}),a("q-btn",{attrs:{dense:"",outline:"",color:"primary",label:"Reset"}})],1)],2),a("q-toolbar",{staticClass:"no-padding"},[a("q-btn-group",{staticClass:"q-mr-sm",attrs:{flat:"",rounded:""}},[a("q-btn",{attrs:{color:"grey-3","text-color":"primary",icon:"add"},on:{click:e.rowViewClick}}),a("q-btn",{attrs:{color:"grey-3","text-color":"warning",icon:"edit"}}),a("q-btn",{attrs:{color:"grey-3","text-color":"red",icon:"delete"}})],1),a("q-space"),a("q-btn-group",{attrs:{outline:""}},[a("q-btn",{attrs:{dense:"",outline:!e.searchToggle,color:"primary",icon:"search"},on:{click:function(t){e.searchToggle=!e.searchToggle}}}),a("q-separator",{attrs:{vertical:""}}),a("q-btn",{attrs:{dense:"",outline:"",color:"primary",icon:"autorenew"},on:{click:function(t){e.loading=!e.loading}}}),a("q-separator",{attrs:{vertical:""}}),a("q-btn",{attrs:{dense:"",outline:"",color:"primary",icon:t.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:t.toggleFullscreen}}),a("q-separator",{attrs:{vertical:""}}),a("q-btn-dropdown",{staticClass:"btn-dropdown-hide-droparrow",attrs:{"auto-close":"",outline:"",dense:"","no-icon-animation":"",color:"primary",icon:"apps"}},[a("div",{staticClass:"row no-wrap q-pa-sm"},[a("div",{staticClass:"column"},e._l(e.columns,(function(t){return a("q-toggle",{key:t.name,attrs:{val:t.name,label:t.label},model:{value:e.visibleColumns,callback:function(t){e.visibleColumns=t},expression:"visibleColumns"}})})),1)])])],1)],1)]}},{key:"body-cell-action",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("q-btn-dropdown",{attrs:{label:"",dense:"",flat:""}},[a("q-list",[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:"",dense:""},on:{click:function(a){return e.rowViewClick(t.row)}}},[a("q-item-section",[a("q-item-label",[e._v("查看")])],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:"",dense:""}},[a("q-item-section",[a("q-item-label",[e._v("修改")])],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:"",dense:""}},[a("q-item-section",[a("q-item-label",[e._v("删除")])],1)],1),a("q-separator"),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:"",dense:""},on:{click:function(t){return e.rowLooooooongButtonClick()}}},[a("q-item-section",[a("q-item-label",[e._v("一个长长的按钮")])],1)],1)],1)],1)],1)]}},{key:"no-data",fn:function(t){var l=t.icon,n=t.message,r=t.filter;return[a("div",{staticClass:"full-width row flex-center text-accent q-gutter-sm"},[a("q-icon",{attrs:{size:"2em",name:r?"filter_b_and_w":l}}),a("span",{staticStyle:{"font-size":"2em"}},[e._v("\n                "+e._s(n)+"\n              ")])],1)]}},{key:"pagination",fn:function(){return[a("q-pagination",{attrs:{max:50,"direction-links":!0,"boundary-links":!1,input:"","input-class":"text-orange-10"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}),a("q-select",{attrs:{dense:"","options-dense":"",outlined:"",options:e.numberPerPageOptions,"emit-value":"","map-options":""},model:{value:e.numberPerPage,callback:function(t){e.numberPerPage=t},expression:"numberPerPage"}})]},proxy:!0},{key:"loading",fn:function(){return[a("q-inner-loading",{attrs:{showing:"",color:"primary"}})]},proxy:!0}])})],1)]},proxy:!0}],null,!0),model:{value:e.splitter,callback:function(t){e.splitter=t},expression:"splitter"}})],1)},n=[],r=(a("4de4"),a("c975"),a("b0c0"),a("6374")),o=a.n(r),s=a("486f"),i=a("1b8b"),c={name:"PageTreeTable",components:{CoadminTree:i["a"]},data:function(){return{splitter:250,treeNodeSelected:null,treeDatasFilter:"",treeDatasExpanded:!0,text:"",textSearch:"",currentPage:1,numberPerPage:10,numberPerPageOptions:[{label:"10/页",value:10},{label:"20/页",value:20},{label:"30/页",value:30},{label:"40/页",value:40},{label:"50/页",value:50},{label:"100/页",value:100}],searchToggle:!1,loading:!1,dialogData:!1,dialogFullscreen:!1,selected:[],visibleColumns:["id","name","sort","enabled"],columns:[{name:"id",label:"ID",field:"id",sortable:!0},{name:"pid",label:"PID",field:"pid",sortable:!0},{name:"name",field:"name",required:!0,label:"名称",align:"left",format:function(e){return"".concat(e)},sortable:!0},{name:"sort",field:"sort",label:"sort"},{name:"enabled",field:"enabled",label:"enabled"},{name:"treeNames",field:"treeNames",label:"treeNames",align:"left"}]}},mounted:function(){},watch:{"$q.screen.gt.xs":function(e){console.log("$q.screen.gt.xs="+this.$q.screen.gt.xs+", val="+e)}},computed:{treeDatas:function(){return s["a"].content},treeDatasSelected:function(){var e=this.getTreeDatasByPid(this.treeDatas,this.treeNodeSelected);return e||[]}},methods:{treeDatasFilterReset:function(){this.treeDatasFilter="",this.$refs.filter.focus()},treeDatasFilterMethod:function(e,t){var a=t.toLowerCase();return e.name&&e.name.toLowerCase().indexOf(a)>-1||e.nameLetter&&e.nameLetter.toLowerCase().indexOf(a)>-1},getTreeDatasByPid:function(e,t){if(!e)return null;if(null==t||void 0===t)return e;var a=e.filter((function(e){return e.pid===t}));if(a&&a.length>0)return a;var l,n=o()(e);try{for(n.s();!(l=n.n()).done;){var r=l.value;if(r.children&&r.children.length>0&&(a=this.getTreeDatasByPid(r.children,t),a&&a.length>0))return a}}catch(s){n.e(s)}finally{n.f()}return null},rowViewClick:function(e){this.dialogData=!0},rowLooooooongButtonClick:function(){}}},d=c,u=a("2877"),p=a("8562"),m=a("65c6"),f=a("27f9"),b=a("0016"),g=a("2c91"),q=a("9c40"),v=a("cb32"),x=a("eaac"),h=a("e7a9"),k=a("eb85"),y=a("f20b"),w=a("9564"),C=a("db86"),S=a("1c1c"),D=a("66e5"),P=a("4074"),_=a("0170"),Q=a("3b16"),F=a("ddd8"),T=a("74f7"),N=a("7f67"),L=a("eebe"),$=a.n(L),B=Object(u["a"])(d,l,n,!1,null,null,null);t["default"]=B.exports;$()(B,"components",{QSplitter:p["a"],QToolbar:m["a"],QInput:f["a"],QIcon:b["a"],QSpace:g["a"],QBtn:q["a"],QAvatar:v["a"],QTable:x["a"],QBtnGroup:h["a"],QSeparator:k["a"],QBtnDropdown:y["a"],QToggle:w["a"],QTd:C["a"],QList:S["a"],QItem:D["a"],QItemSection:P["a"],QItemLabel:_["a"],QPagination:Q["a"],QSelect:F["a"],QInnerLoading:T["a"]}),$()(B,"directives",{ClosePopup:N["a"]})}}]);