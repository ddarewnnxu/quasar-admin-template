(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{cebe:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("co-dialog",{ref:"search",attrs:{title:"查找","no-max":"",seamless:""},on:{"before-hide":function(t){e.filterTable=""}}},[a("q-input",{staticClass:"q-ml-sm q-mr-sm q-mt-none q-mb-sm",attrs:{placeholder:"在当前页查找",dense:"",outlined:"",clearable:""},model:{value:e.filterTable,callback:function(t){e.filterTable=t},expression:"filterTable"}})],1),a("co-dialog",{ref:"formDialog",attrs:{value:e.crud.status.cu>0,title:e.crud.status.title,"no-backdrop-dismiss":"","card-style":"width:800px; max-width:95vw;"},on:{"before-hide":e.crud.cancelCU}},[a("co-form",{ref:"form",staticClass:"q-pa-md row q-col-gutter-x-xl q-col-gutter-y-md",attrs:{"label-width":"small","label-align":"center"}},[e.form.id?a("co-form-item",{staticClass:"col-12",attrs:{dense:"","form-label":"ID"}},[a("div",{staticClass:"q-mt-xs"},[e._v(e._s(e.form.id))])]):e._e(),a("co-input",{staticClass:"col-12 col-sm-6",attrs:{dense:"",outlined:"","form-label":"name",disable:!!e.crud.status.view,rules:[function(e){return e&&e.length>=3||"请输入3个以上字符"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"title"}})]},proxy:!0}]),model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),a("co-input",{staticClass:"col-12 col-sm-6",attrs:{dense:"",outlined:"","form-label":"fat",disable:!!e.crud.status.view},model:{value:e.form.fat,callback:function(t){e.$set(e.form,"fat",t)},expression:"form.fat"}})],1),a("q-card-actions",{staticClass:"q-pa-md",attrs:{align:"right"}},[a("co-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"取消",flat:""}}),e.crud.status.view?e._e():a("co-btn",{attrs:{label:"保存",color:"primary",loading:e.crud.status.cu===e.crud.STATUS_PROCESSING,disable:e.crud.status.cu===e.crud.STATUS_PROCESSING},on:{click:e.crud.submitCU}})],1)],1),a("co-table",{ref:"table",attrs:{"row-key":"id","sticky-last-column":"","sticky-header":"",data:e.crud.data,columns:e.crud.columns,"visible-columns":e.crud.visibleColumns,loading:e.crud.loading,selection:"multiple",selected:e.crud.selections,filter:e.filterTable,"selected-rows-label":function(e){return"选了 "+e}},on:{"update:selected":function(t){return e.$set(e.crud,"selections",t)},"row-click":function(t,a,l){return e.crud.selections=[a]}},scopedSlots:e._u([{key:"top",fn:function(t){return[a("div",{staticClass:"row q-col-gutter-x-md q-col-gutter-y-xs full-width"},[a("crud-operation",{attrs:{permission:e.permission,"label-del":"","icon-view":"","no-edit":""},scopedSlots:e._u([{key:"end",fn:function(){return[a("co-btn",{attrs:{label:"导出"}})]},proxy:!0}],null,!0)}),a("co-input",{staticClass:"col",attrs:{clearable:"",placeholder:"查询","input-class":"text-center"},on:{click:function(t){return e.$refs.searchPopup.show()},clear:function(t){return e.crud.resetQuery()}},scopedSlots:e._u([{key:"after",fn:function(){return[a("co-btn",{attrs:{color:"primary",icon:"search",label:"查询"},on:{click:e.crud.toQuery}}),a("co-btn-dropdown",{staticClass:"btn-dropdown-hide-droparrow",attrs:{color:"primary",icon:"apps","auto-close":""}},[a("crud-more",{attrs:{tableSlotTopProps:t},scopedSlots:e._u([{key:"start",fn:function(){return[a("co-btn",{attrs:{flat:"",align:"left",label:"在当前页查找",icon:"find_in_page"},nativeOn:{click:function(t){return e.$refs.search.show()}}}),a("q-separator")]},proxy:!0}],null,!0)})],1)]},proxy:!0}],null,!0),model:{value:e.queryModel,callback:function(t){e.queryModel=t},expression:"queryModel"}},[a("co-dialog",{ref:"searchPopup",attrs:{seamless:"","card-style":"width:700px; max-width:95vw;"}},[a("co-form",{ref:"searchform",staticClass:"q-pa-md row q-col-gutter-x-lg q-col-gutter-y-md",attrs:{"label-width":"small","label-align":"right"}},[a("co-input",{staticClass:"col-12 col-sm-6",attrs:{"form-label":"名字"},model:{value:e.query.name,callback:function(t){e.$set(e.query,"name",t)},expression:"query.name"}}),a("co-date-select",{staticClass:"col-12 col-sm-6",attrs:{"form-label":"date",placeholder:"日期单选",clearable:""},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"event"}})]},proxy:!0}],null,!0),model:{value:e.query.dateSingle,callback:function(t){e.$set(e.query,"dateSingle",t)},expression:"query.dateSingle"}}),a("co-tree-select",{staticClass:"col-12",attrs:{"form-label":"Tree",placeholder:"Tree多选",nodes:e.treeData,"node-key":"id","label-key":"name",ticked:e.query.ticked,"tick-strategy":"leaf-all-only-parent","tree-class":"q-pa-sm",clearable:""},on:{"update:ticked":function(t){return e.$set(e.query,"ticked",t)},"ticked-label":function(t){return e.queryTickedLabels=t}}})],1),a("q-card-actions",{staticClass:"q-pa-md",attrs:{align:"center"}},[a("co-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"关闭",flat:""}}),a("co-btn",{attrs:{label:"查询(不关闭)",color:"primary",icon:"search",loading:e.crud.loading,disable:e.crud.loading},on:{click:e.crud.toQuery}}),a("co-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"查询",color:"primary",icon:"search",loading:e.crud.loading,disable:e.crud.loading},on:{click:e.crud.toQuery}})],1)],1)],1)],1)]}},{key:"body-cell-action",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("crud-row",{attrs:{"no-wrap":"",data:t.row,type:e.$q.screen.gt.xs?"button":"menu",permission:e.permission,"color-edit":"green","label-del":"删","msg-del":"真的删 "+t.row.name+" ?","icon-del":"delete_sweep","no-add":"","no-icon":"","action-start":[{label:"导出",click:e.clickExport},{label:"导出2",click:e.clickExport}],"action-end-menu":"","action-end-menu-label":"更多","action-end-menu-color":"yellow","action-end":[{label:"导出3",click:e.clickExport},{label:"导出4",click:e.clickExport}],tooltip:""}})],1)]}},{key:"pagination",fn:function(){return[a("crud-pagination",{attrs:{input:""}})]},proxy:!0}])})],1)},r=[],o=a("ded3"),c=a.n(o),n=(a("b64b"),a("a15b"),a("ffd2")),s=a("efb3"),i=a("cb5f"),u=a("7b05"),d=a("d3b8"),p=a("bcc3"),m=a("486f"),f=a("5ec7"),b={name:"PageCrudCustom",components:{CrudOperation:s["a"],CrudMore:d["a"],CrudPagination:i["a"],CrudRow:u["a"]},cruds:function(){return Object(n["b"])({columns:f["a"],visibleColumns:f["d"],idField:"id",title:"演示",sort:["name,asc","id,desc"],url:"api/demo",crudMethod:c()({},p["a"])})},mixins:[Object(n["f"])(),Object(n["d"])(),Object(n["c"])(f["c"]),Object(n["a"])()],data:function(){return{permission:{add:["admin","user:add"],edit:["admin","user:edit"],del:["admin","user:del"]},filterTable:"",querysLabel:"",queryTickedLabels:null,treeData:m["a"].content}},created:function(){this.$set(this.query,"name","Demo")},mounted:function(){this.$refs.searchPopup.show(),this.$nextTick((function(){this.$refs.searchPopup.hide()}))},computed:{queryModel:{get:function(){for(var e=[],t=0,a=Object.keys(this.query);t<a.length;t++){var l=a[t];if("ticked"===l)this.queryTickedLabels&&e.push("["+this.queryTickedLabels.join(",")+"]");else{var r=this.query[l];r&&e.push(r)}}return e.join(", ")},set:function(e){e||(this.queryTickedLabels=null)}}},methods:{clickExport:function(){console.log("clicked export")}}},y=b,k=a("2877"),h=a("27f9"),q=a("0016"),g=a("4b7e"),w=a("eb85"),v=a("db86"),x=a("7f67"),C=a("eebe"),T=a.n(C),S=Object(k["a"])(y,l,r,!1,null,null,null);t["default"]=S.exports;T()(S,"components",{QInput:h["a"],QIcon:q["a"],QCardActions:g["a"],QSeparator:w["a"],QTd:v["a"]}),T()(S,"directives",{ClosePopup:x["a"]})}}]);