(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{8218:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("q-splitter",{attrs:{unit:"px",horizontal:e.$q.screen.xs,"emit-immediately":""},scopedSlots:e._u([{key:"before",fn:function(){return[a("co-tree",{ref:"tree",staticClass:"custom-table-bg",class:e.$q.screen.gt.xs?"q-mr-sm":"",attrs:{"node-key":"id","label-key":"label",nodes:e.treeDatas,"no-connectors":!1,"filter-key-like":"nameLetter","filter-key-equal":"id",selected:e.treeNodeSelected,"selected-color":"purple",selectable:""},on:{"update:selected":function(t){e.treeNodeSelected=t}},scopedSlots:e._u([{key:"default-header",fn:function(t){return[a("div",{class:{"text-weight-bold":e.treeNodeSelected==t.key}},[e._v(e._s(t.node.label))])]}}])})]},proxy:!0},e.$q.screen.xs?{key:"separator",fn:function(){return[a("q-avatar",{attrs:{color:"primary","text-color":"white",size:"35px",icon:"height"}})]},proxy:!0}:null,{key:"after",fn:function(){return[a("co-table",{class:e.$q.screen.gt.xs?"q-ml-sm":"",attrs:{flat:"","tree-table":"","tree-children-key":"children","expand-width":20,"expand-key":"enabled","expand-size":"md","expand-style":"margin-right:10px; color: red; background: yellow;","expand-icon":"add","expand-icon-fold":"remove","expand-without-label":"","wrap-cells":!1,data:e.treeDatasSelected,columns:e.columns,"row-key":"id","visible-columns":e.visibleColumns,separator:"horizontal","hide-pagination":!1,"rows-per-page-options":[0],"no-data-label":"无数据",selection:"multiple",selected:e.selected,loading:e.loading},on:{"update:selected":function(t){e.selected=t},"row-click":function(t,a,l){return e.selected=[a]}},scopedSlots:e._u([{key:"top",fn:function(t){return[a("div",{staticClass:"row q-col-gutter-x-md q-col-gutter-y-xs",staticStyle:{width:"100%"}},[a("q-input",{staticClass:"col-xs-6 col-sm-4 col-md-3 col-lg-2",attrs:{dense:"",placeholder:"姓名"},model:{value:e.textSearch,callback:function(t){e.textSearch=t},expression:"textSearch"}}),e.searchToggle?[a("q-input",{staticClass:"col-xs-6 col-sm-4 col-md-3 col-lg-2",attrs:{dense:"",placeholder:"姓名"},model:{value:e.textSearch,callback:function(t){e.textSearch=t},expression:"textSearch"}}),a("q-input",{staticClass:"col-xs-6 col-sm-4 col-md-3 col-lg-2",attrs:{dense:"",placeholder:"姓名"},model:{value:e.textSearch,callback:function(t){e.textSearch=t},expression:"textSearch"}}),a("q-input",{staticClass:"col-xs-6 col-sm-4 col-md-3 col-lg-2",attrs:{dense:"",placeholder:"姓名"},model:{value:e.textSearch,callback:function(t){e.textSearch=t},expression:"textSearch"}})]:e._e(),a("q-btn-group",{staticClass:"col",attrs:{outline:""}},[a("q-btn",{attrs:{dense:"",outline:"",color:"primary",label:"查询"}}),a("q-separator",{attrs:{vertical:""}}),a("q-btn",{attrs:{dense:"",outline:"",color:"primary",label:"Reset"}})],1)],2),a("q-toolbar",{staticClass:"no-padding"},[a("q-btn-group",{staticClass:"q-mr-sm",attrs:{flat:"",rounded:""}},[a("q-btn",{attrs:{color:"grey-3","text-color":"primary",icon:"add"},on:{click:e.rowViewClick}}),a("q-btn",{attrs:{color:"grey-3","text-color":"warning",icon:"edit"}}),a("q-btn",{attrs:{color:"grey-3","text-color":"red",icon:"delete"}})],1),a("q-space"),a("q-btn-group",{attrs:{outline:""}},[a("q-btn",{attrs:{dense:"",outline:!e.searchToggle,color:"primary",icon:"search"},on:{click:function(t){e.searchToggle=!e.searchToggle}}}),a("q-separator",{attrs:{vertical:""}}),a("q-btn",{attrs:{dense:"",outline:"",color:"primary",icon:"autorenew"},on:{click:function(t){e.loading=!e.loading}}}),a("q-separator",{attrs:{vertical:""}}),a("q-btn",{attrs:{dense:"",outline:"",color:"primary",icon:t.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:t.toggleFullscreen}}),a("q-separator",{attrs:{vertical:""}}),a("q-btn-dropdown",{staticClass:"btn-dropdown-hide-droparrow",attrs:{"auto-close":"",outline:"",dense:"","no-icon-animation":"",color:"primary",icon:"apps"}},[a("div",{staticClass:"row no-wrap q-pa-sm"},[a("div",{staticClass:"column"},e._l(e.columns,(function(t){return a("q-toggle",{key:t.name,attrs:{val:t.name,label:t.label,disable:t.required},model:{value:e.visibleColumns,callback:function(t){e.visibleColumns=t},expression:"visibleColumns"}})})),1)])])],1)],1)]}},{key:"body-cell-sort",fn:function(t){return[a("q-td",{key:"sort",attrs:{props:t}},[a("q-badge",{attrs:{color:"teal-4"}},[e._v(e._s(t.row.sort))])],1)]}},{key:"pagination",fn:function(){return[a("q-pagination",{attrs:{max:50,"direction-links":!0,"boundary-links":!1,input:"","input-class":"text-orange-10"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}),a("q-select",{attrs:{dense:"","options-dense":"",outlined:"",options:e.numberPerPageOptions,"emit-value":"","map-options":""},model:{value:e.numberPerPage,callback:function(t){e.numberPerPage=t},expression:"numberPerPage"}})]},proxy:!0},{key:"loading",fn:function(){return[a("q-inner-loading",{attrs:{showing:"",color:"primary"}})]},proxy:!0}])})]},proxy:!0}],null,!0),model:{value:e.splitter,callback:function(t){e.splitter=t},expression:"splitter"}})],1)},n=[],r=a("6374"),o=a.n(r),s=(a("4de4"),a("486f")),c=a("4d3a"),i={name:"PageTreeTableCustom",components:{CoTree:c["a"]},data:function(){return{splitter:250,treeNodeSelected:null,treeDatasFilter:"",treeDatasExpanded:!0,text:"",textSearch:"",currentPage:1,numberPerPage:10,numberPerPageOptions:[{label:"10/页",value:10},{label:"20/页",value:20},{label:"30/页",value:30},{label:"40/页",value:40},{label:"50/页",value:50},{label:"100/页",value:100}],searchToggle:!1,loading:!1,dialogData:!1,dialogFullscreen:!1,selected:[],visibleColumns:["name","sort","enabled","action"],columns:[{name:"id",label:"ID",field:"id",sortable:!0},{name:"pid",label:"PID",field:"pid",sortable:!0},{name:"name",field:"name",required:!0,label:"名称",align:"left",format:function(e){return"".concat(e)},sortable:!0},{name:"sort",field:"sort",label:"sort"},{name:"enabled",field:"enabled",label:"enabled"},{name:"treeNames",field:"treeNames",label:"treeNames",align:"left"},{name:"action",field:"action",label:"action",align:"center"}]}},mounted:function(){},watch:{"$q.screen.gt.xs":function(e){console.log("$q.screen.gt.xs="+this.$q.screen.gt.xs+", val="+e)}},computed:{treeDatas:function(){return s["a"].content},treeDatasSelected:function(){var e=this.getTreeDatasByPid(this.treeDatas,this.treeNodeSelected);return e||[]}},methods:{fff:function(e){console.log("props=",e)},getTreeDatasByPid:function(e,t){if(!e)return null;if(null==t||void 0===t)return e;var a=e.filter((function(e){return e.pid===t}));if(a&&a.length>0)return a;var l,n=o()(e);try{for(n.s();!(l=n.n()).done;){var r=l.value;if(r.children&&r.children.length>0&&(a=this.getTreeDatasByPid(r.children,t),a&&a.length>0))return a}}catch(s){n.e(s)}finally{n.f()}return null},rowViewClick:function(e){this.dialogData=!0}}},d=i,u=a("2877"),p=a("8562"),b=a("cb32"),m=a("27f9"),g=a("e7a9"),f=a("9c40"),x=a("eb85"),h=a("65c6"),y=a("2c91"),q=a("f20b"),v=a("9564"),k=a("db86"),w=a("58a8"),S=a("3b16"),P=a("ddd8"),C=a("74f7"),D=a("eebe"),Q=a.n(D),T=Object(u["a"])(d,l,n,!1,null,null,null);t["default"]=T.exports;Q()(T,"components",{QSplitter:p["a"],QAvatar:b["a"],QInput:m["a"],QBtnGroup:g["a"],QBtn:f["a"],QSeparator:x["a"],QToolbar:h["a"],QSpace:y["a"],QBtnDropdown:q["a"],QToggle:v["a"],QTd:k["a"],QBadge:w["a"],QPagination:S["a"],QSelect:P["a"],QInnerLoading:C["a"]})}}]);